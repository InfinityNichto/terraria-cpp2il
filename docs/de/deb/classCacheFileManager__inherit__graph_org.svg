<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: CacheFileManager Pages: 1 -->
<svg width="196pt" height="898pt"
 viewBox="0.00 0.00 196.00 898.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 894)">
<title>CacheFileManager</title>
<!-- Node1 -->
<g id="Node000001" class="node">
<title>Node1</title>
<g id="a_Node000001"><a xlink:title=" ">
<polygon fill="#999999" stroke="transparent" points="188,-526 0,-526 0,0 188,0 188,-526"/>
<text text-anchor="start" x="48.5" y="-514" font-family="Helvetica,sans-Serif" font-size="10.00">CacheFileManager</text>
<text text-anchor="start" x="4" y="-499" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-499" font-family="Helvetica,sans-Serif" font-size="10.00">bool UploadingFiles</text>
<text text-anchor="start" x="6.5" y="-484" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-484" font-family="Helvetica,sans-Serif" font-size="10.00">List&lt; CachedFile &gt;</text>
<text text-anchor="start" x="17" y="-473" font-family="Helvetica,sans-Serif" font-size="10.00"> allFiles</text>
<text text-anchor="start" x="6.5" y="-458" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-458" font-family="Helvetica,sans-Serif" font-size="10.00">List&lt; CachedFile &gt;</text>
<text text-anchor="start" x="17" y="-447" font-family="Helvetica,sans-Serif" font-size="10.00"> modifications</text>
<text text-anchor="start" x="6.5" y="-432" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-432" font-family="Helvetica,sans-Serif" font-size="10.00">ManualResetEvent uploadPending</text>
<text text-anchor="start" x="6.5" y="-417" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-417" font-family="Helvetica,sans-Serif" font-size="10.00">readonly FileManager</text>
<text text-anchor="start" x="17" y="-406" font-family="Helvetica,sans-Serif" font-size="10.00"> fileManager</text>
<text text-anchor="start" x="6.5" y="-391" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-391" font-family="Helvetica,sans-Serif" font-size="10.00">readonly FileAPI fileAPI</text>
<text text-anchor="start" x="6.5" y="-376" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-376" font-family="Helvetica,sans-Serif" font-size="10.00">readonly bool PrimaryUser</text>
<text text-anchor="start" x="6.5" y="-361" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-361" font-family="Helvetica,sans-Serif" font-size="10.00">readonly PlatformUser User</text>
<text text-anchor="start" x="6.5" y="-346" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-346" font-family="Helvetica,sans-Serif" font-size="10.00">ManagedThread UploadThread</text>
<text text-anchor="start" x="6.5" y="-331" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-331" font-family="Helvetica,sans-Serif" font-size="10.00">ManagedThread SyncThread</text>
<text text-anchor="start" x="6.5" y="-316" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-316" font-family="Helvetica,sans-Serif" font-size="10.00">string _userSavePath</text>
<text text-anchor="start" x="4" y="-301" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-301" font-family="Helvetica,sans-Serif" font-size="10.00">CacheFileManager(FileManager</text>
<text text-anchor="start" x="17" y="-290" font-family="Helvetica,sans-Serif" font-size="10.00"> fileMan, FileAPI api, bool</text>
<text text-anchor="start" x="17" y="-279" font-family="Helvetica,sans-Serif" font-size="10.00"> primaryUser, PlatformUser user)</text>
<text text-anchor="start" x="4" y="-264" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-264" font-family="Helvetica,sans-Serif" font-size="10.00">void Shutdown()</text>
<text text-anchor="start" x="4" y="-249" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-249" font-family="Helvetica,sans-Serif" font-size="10.00">void ResyncFiles()</text>
<text text-anchor="start" x="4" y="-234" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-234" font-family="Helvetica,sans-Serif" font-size="10.00">void FileSyncInternal</text>
<text text-anchor="start" x="17" y="-223" font-family="Helvetica,sans-Serif" font-size="10.00">(object threadContext)</text>
<text text-anchor="start" x="4" y="-208" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-208" font-family="Helvetica,sans-Serif" font-size="10.00">void SyncFile(string</text>
<text text-anchor="start" x="17" y="-197" font-family="Helvetica,sans-Serif" font-size="10.00"> filePath)</text>
<text text-anchor="start" x="4" y="-182" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-182" font-family="Helvetica,sans-Serif" font-size="10.00">string GetUserSavePath()</text>
<text text-anchor="start" x="4" y="-167" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-167" font-family="Helvetica,sans-Serif" font-size="10.00">void LegacySync()</text>
<text text-anchor="start" x="4" y="-152" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-152" font-family="Helvetica,sans-Serif" font-size="10.00">void Mount(bool forSync)</text>
<text text-anchor="start" x="4" y="-137" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-137" font-family="Helvetica,sans-Serif" font-size="10.00">void Unmount(bool forSync)</text>
<text text-anchor="start" x="4" y="-122" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="17" y="-122" font-family="Helvetica,sans-Serif" font-size="10.00">void CreateDirectory</text>
<text text-anchor="start" x="17" y="-111" font-family="Helvetica,sans-Serif" font-size="10.00">(string directory)</text>
<text text-anchor="start" x="17" y="-96" font-family="Helvetica,sans-Serif" font-size="10.00">and 10 more...</text>
<text text-anchor="start" x="6.5" y="-81" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-81" font-family="Helvetica,sans-Serif" font-size="10.00">void SyncFolder(string</text>
<text text-anchor="start" x="17" y="-70" font-family="Helvetica,sans-Serif" font-size="10.00"> folderPath, bool recursive</text>
<text text-anchor="start" x="17" y="-59" font-family="Helvetica,sans-Serif" font-size="10.00">=false)</text>
<text text-anchor="start" x="6.5" y="-44" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-44" font-family="Helvetica,sans-Serif" font-size="10.00">CachedFile GetFile</text>
<text text-anchor="start" x="17" y="-33" font-family="Helvetica,sans-Serif" font-size="10.00">(string path, bool create=true)</text>
<text text-anchor="start" x="6.5" y="-18" font-family="Helvetica,sans-Serif" font-size="10.00">&#45;</text>
<text text-anchor="start" x="17" y="-18" font-family="Helvetica,sans-Serif" font-size="10.00">void FileUpload(object</text>
<text text-anchor="start" x="17" y="-7" font-family="Helvetica,sans-Serif" font-size="10.00"> threadContext)</text>
<polygon fill="#666666" stroke="#666666" points="0,-509 0,-509 188,-509 188,-509 0,-509"/>
<polygon fill="#666666" stroke="#666666" points="0,-311 0,-311 15,-311 15,-311 0,-311"/>
<polygon fill="#666666" stroke="#666666" points="15,-311 15,-311 188,-311 188,-311 15,-311"/>
<polygon fill="none" stroke="#666666" points="0,0 0,-526 188,-526 188,0 0,0"/>
</a>
</g>
</g>
<!-- Node2 -->
<g id="Node000002" class="node">
<title>Node2</title>
<g id="a_Node000002"><a xlink:href="../../d7/d37/interfaceFileAPI.html" target="_top" xlink:title=" ">
<polygon fill="white" stroke="transparent" points="181.5,-890 6.5,-890 6.5,-562 181.5,-562 181.5,-890"/>
<text text-anchor="start" x="77.5" y="-878" font-family="Helvetica,sans-Serif" font-size="10.00">FileAPI</text>
<text text-anchor="start" x="92.5" y="-863" font-family="Helvetica,sans-Serif" font-size="10.00">Â </text>
<text text-anchor="start" x="11" y="-848" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-848" font-family="Helvetica,sans-Serif" font-size="10.00">string GetUserSavePath()</text>
<text text-anchor="start" x="11" y="-833" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-833" font-family="Helvetica,sans-Serif" font-size="10.00">void LegacySync()</text>
<text text-anchor="start" x="11" y="-818" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-818" font-family="Helvetica,sans-Serif" font-size="10.00">void Mount(bool forSync)</text>
<text text-anchor="start" x="11" y="-803" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-803" font-family="Helvetica,sans-Serif" font-size="10.00">void Unmount(bool forSync)</text>
<text text-anchor="start" x="11" y="-788" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-788" font-family="Helvetica,sans-Serif" font-size="10.00">void CreateDirectory</text>
<text text-anchor="start" x="24" y="-777" font-family="Helvetica,sans-Serif" font-size="10.00">(string directory)</text>
<text text-anchor="start" x="11" y="-762" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-762" font-family="Helvetica,sans-Serif" font-size="10.00">void WriteFile(string</text>
<text text-anchor="start" x="24" y="-751" font-family="Helvetica,sans-Serif" font-size="10.00"> filename, byte[] fileData)</text>
<text text-anchor="start" x="11" y="-736" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-736" font-family="Helvetica,sans-Serif" font-size="10.00">void Delete(string</text>
<text text-anchor="start" x="24" y="-725" font-family="Helvetica,sans-Serif" font-size="10.00"> filename)</text>
<text text-anchor="start" x="11" y="-710" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-710" font-family="Helvetica,sans-Serif" font-size="10.00">byte[] ReadFile(string</text>
<text text-anchor="start" x="24" y="-699" font-family="Helvetica,sans-Serif" font-size="10.00"> filename)</text>
<text text-anchor="start" x="11" y="-684" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-684" font-family="Helvetica,sans-Serif" font-size="10.00">bool Exists(string</text>
<text text-anchor="start" x="24" y="-673" font-family="Helvetica,sans-Serif" font-size="10.00"> filename)</text>
<text text-anchor="start" x="11" y="-658" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-658" font-family="Helvetica,sans-Serif" font-size="10.00">string[] GetFiles(string</text>
<text text-anchor="start" x="24" y="-647" font-family="Helvetica,sans-Serif" font-size="10.00"> filename, string searchPattern)</text>
<text text-anchor="start" x="11" y="-632" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-632" font-family="Helvetica,sans-Serif" font-size="10.00">string[] GetFolders</text>
<text text-anchor="start" x="24" y="-621" font-family="Helvetica,sans-Serif" font-size="10.00">(string filename)</text>
<text text-anchor="start" x="11" y="-606" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-606" font-family="Helvetica,sans-Serif" font-size="10.00">void SetAttributes</text>
<text text-anchor="start" x="24" y="-595" font-family="Helvetica,sans-Serif" font-size="10.00">(string filename, FileAttributes</text>
<text text-anchor="start" x="24" y="-584" font-family="Helvetica,sans-Serif" font-size="10.00"> fileAttributes)</text>
<text text-anchor="start" x="11" y="-569" font-family="Helvetica,sans-Serif" font-size="10.00">+</text>
<text text-anchor="start" x="24" y="-569" font-family="Helvetica,sans-Serif" font-size="10.00">void Shutdown()</text>
<polygon fill="#666666" stroke="#666666" points="7,-873 7,-873 182,-873 182,-873 7,-873"/>
<polygon fill="#666666" stroke="#666666" points="7,-858 7,-858 182,-858 182,-858 7,-858"/>
<polygon fill="none" stroke="#666666" points="6.5,-562 6.5,-890 181.5,-890 181.5,-562 6.5,-562"/>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node1 -->
<g id="edge1_Node000001_Node000002" class="edge">
<title>Node2&#45;&gt;Node1</title>
<g id="a_edge1_Node000001_Node000002"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M94,-551.65C94,-543.27 94,-534.78 94,-526.23"/>
<polygon fill="none" stroke="#63b8ff" points="90.5,-551.82 94,-561.82 97.5,-551.82 90.5,-551.82"/>
</a>
</g>
</g>
</g>
</svg>
